# Autodiag Plugin Manifest v2
# Version: 1.4.0 - Synchronized JS with HTML IDs, complete UI overhaul

id: autodiag
name: Autodiag
version: "1.4.0"
description: Automatic diagnostic tool for false-positive detection in unused code analysis
type: tool
jupiter_version: ">=1.8.0"

# Metadata
author:
  name: Jupiter Team
  url: https://github.com/sn8k/Jupiter-project
license: MIT
homepage: https://github.com/sn8k/Jupiter-project
trust_level: official

# Permissions
permissions:
  - fs_read
  - emit_events
  - register_api
  - register_ui

# Capabilities
capabilities:
  metrics:
    enabled: true
    export_format: json
  health_check:
    enabled: true
    interval: 60
  jobs:
    enabled: false

# Entrypoints
entrypoints:
  init: "__init__:init"
  shutdown: "__init__:shutdown"

# API contributions
api:
  router: "server.api:router"
  prefix: "/api/plugins/autodiag"

# UI contributions
ui:
  panels:
    - id: main
      location: both
      route: /plugins/autodiag
      title_key: plugin.autodiag.title
      icon: "ðŸ”¬"
      order: 65
      settings_section: Autodiag
  assets:
    js:
      - web/panels/main.js
  i18n:
    path: web/lang
    languages:
      - en
      - fr

# Configuration schema
config:
  defaults:
    enabled: true
    auto_run_on_scan: false
    show_confidence_scores: true
    diag_port: 8081
    timeout: 30
    skip_cli: false
    skip_api: false
    skip_plugins: false
