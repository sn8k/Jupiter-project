<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title data-i18n="app_title">Jupiter ‚Äì Interface</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app-shell">
      <header class="app-header">
        <div class="brand">
          <span class="logo" aria-hidden="true">ü™ê</span>
          <div>
            <p class="eyebrow">Jupiter</p>
            <h1 data-i18n="main_title">Cartographie &amp; Observabilit√©</h1>
            <p class="muted" data-i18n="main_subtitle">Interface sombre, minimaliste et extensible</p>
          </div>
        </div>
        <div class="header-actions">
          <div class="context">
            <p class="label" data-i18n="served_root">Racine servie</p>
            <p class="value" id="root-path" data-i18n="loading">Chargement‚Ä¶</p>
          </div>
          <div class="actions">
            <button class="ghost" data-action="load-sample" data-i18n="sample_button">Exemple</button>
            <button class="primary" data-action="start-scan" data-i18n="scan_button">Scan</button>
            <button class="primary" data-action="start-watch" data-i18n="watch_button">Watch</button>
          </div>
        </div>
      </header>

      <div class="app-body">
        <nav class="app-nav" aria-label="Navigation principale">
          <button class="nav-btn active" data-view="dashboard" data-i18n="dashboard_view">Dashboard</button>
          <button class="nav-btn" data-view="analysis" data-i18n="analysis_view">Analyse</button>
          <button class="nav-btn" data-view="diagnostics" data-i18n="diagnostic_view">Diagnostic</button>
          <button class="nav-btn" data-view="files" data-i18n="files_view">Fichiers</button>
          <button class="nav-btn" data-view="settings" data-i18n="settings_view">Param√®tres</button>
          <button class="nav-btn" data-view="plugins" data-i18n="plugins_view">Plugins</button>
        </nav>

        <main class="content">
          <section class="view" data-view="dashboard" aria-label="Vue tableau de bord">
            <div class="grid two-cols">
              <section class="panel">
                <header>
                  <div>
                    <p class="eyebrow" data-i18n="d_pano_eyebrow">Panorama</p>
                    <h2 data-i18n="d_pano_title">√âtat rapide du projet</h2>
                    <p class="muted" data-i18n="d_pano_subtitle">Statut, progression et licence Meeting.</p>
                  </div>
                  <div class="badges" id="status-badges"></div>
                </header>
                <div class="stats-grid" id="stats-grid"></div>
              </section>

              <section class="panel" id="upload-panel">
                <header>
                  <div>
                    <p class="eyebrow" data-i18n="d_upload_eyebrow">Point d'entr√©e</p>
                    <h2 data-i18n="d_upload_title">Charger un rapport</h2>
                    <p class="muted" data-i18n="d_upload_subtitle">D√©posez un fichier <code>.json</code> g√©n√©r√© par <code>jupiter scan</code> ou utilisez l'exemple.</p>
                  </div>
                </header>
                <div class="uploader" id="dropzone">
                  <div>
                    <p class="muted" data-i18n="d_upload_prompt">Glissez un rapport ou cliquez pour parcourir.</p>
                    <p class="small" data-i18n="d_upload_compat">Compatible avec les scans statiques et les futures analyses incr√©mentales.</p>
                  </div>
                  <input type="file" id="report-input" accept="application/json" />
                </div>
                <div class="upload-meta" id="upload-meta"></div>
              </section>
            </div>
          </section>

          <section class="view hidden" data-view="analysis" aria-label="Vue analyse">
            <div class="grid two-cols">
              <section class="panel">
                <header>
                  <div>
                    <p class="eyebrow" data-i18n="a_overview_eyebrow">Analyse</p>
                    <h2 data-i18n="a_overview_title">Synth√®se d√©taill√©e</h2>
                    <p class="muted" data-i18n="a_overview_subtitle">Extensions dominantes, tailles moyennes et fichiers r√©cents.</p>
                  </div>
                </header>
                <div class="stats-grid" id="analysis-stats"></div>
              </section>

              <section class="panel">
                <header>
                  <div>
                    <p class="eyebrow" data-i18n="alerts_eyebrow">Alertes</p>
                    <h2 data-i18n="alerts_title">Points d'attention</h2>
                    <p class="muted" data-i18n="alerts_subtitle">√âtat des plugins, licence Meeting et fonctions inactives.</p>
                  </div>
                </header>
                <ul class="alert-list" id="alert-list"></ul>
              </section>
            </div>

            <section class="panel">
              <header>
                <div>
                  <p class="eyebrow" data-i18n="hotspots_eyebrow">Hotspots</p>
                  <h2 data-i18n="hotspots_title">Fichiers √† explorer</h2>
                  <p class="muted" data-i18n="hotspots_subtitle">Classement des fichiers avec le plus de fonctions.</p>
                </div>
              </header>
              <div class="table-wrapper">
                <table aria-label="Hotspots">
                  <thead>
                    <tr>
                      <th data-i18n="hotspots_file">Fichier</th>
                      <th data-i18n="hotspots_detail">D√©tails</th>
                      <th class="numeric" data-i18n="hotspots_rank">Rang</th>
                    </tr>
                  </thead>
                  <tbody id="hotspot-body"></tbody>
                </table>
                <p class="empty" id="hotspot-empty"></p>
              </div>
            </section>
          </section>

          <section class="view hidden" data-view="diagnostics" aria-label="Vue diagnostic">
            <div class="grid two-cols">
              <section class="panel">
                <header>
                  <div>
                    <p class="eyebrow" data-i18n="diag_eyebrow">Diagnostic</p>
                    <h2 data-i18n="diag_title">Connectivit√© & contexte</h2>
                    <p class="muted" data-i18n="diag_subtitle">√âtat du serveur API et racine servie.</p>
                  </div>
                </header>
                <div class="stats-grid">
                  <div class="stat-card">
                    <p class="label" data-i18n="served_root">Racine servie</p>
                    <p class="value" id="diag-root" data-i18n="loading">Chargement‚Ä¶</p>
                  </div>
                  <div class="stat-card">
                    <p class="label" data-i18n="diag_api_label">API cible</p>
                    <p class="value" id="api-base-url">http://127.0.0.1:8000</p>
                  </div>
                  <div class="stat-card">
                    <p class="label" data-i18n="diag_scan_label">Scan</p>
                    <p class="value" id="diag-scan-state" data-i18n="diag_scan_missing">En attente</p>
                  </div>
                </div>
              </section>

              <section class="panel">
                <header>
                  <div>
                    <p class="eyebrow" data-i18n="live_events_eyebrow">Temps r√©el</p>
                    <h2 data-i18n="live_events_title">√âv√©nements</h2>
                    <p class="muted" data-i18n="live_events_subtitle">Derni√®res actions UI et futures notifications WS.</p>
                  </div>
                </header>
                <div class="live-stream" id="live-stream"></div>
              </section>
            </div>

            <section class="panel">
              <header>
                <div>
                  <p class="eyebrow" data-i18n="logs_eyebrow">Logs</p>
                  <h2 data-i18n="logs_title">Historique rapide</h2>
                  <p class="muted" data-i18n="logs_subtitle">Suivi des actions utilisateur et chargements.</p>
                </div>
              </header>
              <div class="log-stream" id="log-stream"></div>
            </section>
          </section>

          <section class="view hidden" data-view="files" aria-label="Vue fichiers">
            <section class="panel">
              <header>
                <div>
                  <p class="eyebrow" data-i18n="files_eyebrow">Fichiers</p>
                  <h2 data-i18n="files_title">Arborescence scann√©e</h2>
                  <p class="muted" data-i18n="files_subtitle">Tri par taille d√©croissante (top 200).</p>
                </div>
              </header>
              <div class="table-wrapper">
                <table aria-label="Liste des fichiers">
                  <thead>
                    <tr>
                      <th data-i18n="files_path">Chemin</th>
                      <th class="numeric" data-i18n="files_size">Taille</th>
                      <th class="numeric" data-i18n="files_modified">Modifi√©</th>
                    </tr>
                  </thead>
                  <tbody id="files-body"></tbody>
                </table>
                <p class="empty" id="files-empty"></p>
              </div>
            </section>
          </section>

          <section class="view hidden" data-view="plugins" aria-label="Vue plugins">
            <section class="panel">
              <header>
                <div>
                  <p class="eyebrow" data-i18n="plugins_eyebrow">Extensions</p>
                  <h2 data-i18n="plugins_title">Plugins Jupiter</h2>
                  <p class="muted" data-i18n="plugins_subtitle">√âtat du socle Meeting, qualit√© et notifications.</p>
                </div>
              </header>
              <div class="plugin-list" id="plugin-list"></div>
            </section>
          </section>

          <section class="view hidden" data-view="settings" aria-label="Vue param√®tres">
            <section class="panel">
              <header>
                <div>
                  <p class="eyebrow" data-i18n="s_eyebrow">Param√®tres</p>
                  <h2 data-i18n="s_title">Options principales</h2>
                  <p class="muted" data-i18n="s_subtitle">G√©rez la licence, le th√®me et la langue.</p>
                </div>
              </header>
              <div class="settings-grid">
                <div class="setting-card">
                  <p class="label" data-i18n="s_meeting_label">Licence Meeting</p>
                  <p class="value" id="meeting-status">En attente</p>
                  <p class="small" data-i18n="s_meeting_desc">Le statut r√©el sera synchronis√© via l'adaptateur Meeting.</p>
                  <button class="ghost" data-action="open-license" data-i18n="s_meeting_button">G√©rer</button>
                </div>
                <div class="setting-card">
                  <p class="label" data-i18n="s_theme_label">Th√®me</p>
                  <p class="value" id="theme-value" data-i18n="s_theme_value_dark">Sombre</p>
                  <p class="small" data-i18n="s_theme_desc">Basculez entre le th√®me clair et sombre.</p>
                  <button class="ghost" data-action="toggle-theme" data-i18n="s_theme_button">Changer</button>
                </div>
                <div class="setting-card">
                  <p class="label" data-i18n="s_language_label">Langue</p>
                  <p class="value" id="language-value">Fran√ßais</p>
                  <p class="small" data-i18n="s_language_desc">Choisissez la langue de l'interface.</p>
                  <div class="button-group">
                    <button class="ghost" data-action="change-language" data-lang="fr">FR</button>
                    <button class="ghost" data-action="change-language" data-lang="en">EN</button>
                  </div>
                </div>
              </div>
            </section>
          </section>
        </main>
      </div>
    </div>
    <script type="module" src="app.js"></script>
  </body>
</html>